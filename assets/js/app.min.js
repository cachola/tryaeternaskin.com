!function($){$((function(){$("form[name=prospect_form1]").formHandler({type:"prospect",errorModal:!0,autoFillFormElement:"prospect_form2",countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=prospect_form2]").formHandler({type:"prospect",errorModal:!0,autoFillFormElement:"prospect_form1",countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=fullprospect_form]").formHandler({type:"fullprospect",errorModal:!0,autoFillFormElement:"fullprospect_form",countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=shipping_form]").formHandler({type:"shipping",errorModal:!0,autoFillFormElement:"shipping_form",countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=checkout_form]").formHandler({type:"checkout",errorModal:!0,countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=downsell_form1]").formHandler({type:"downsell1",errorModal:!0,countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=downsell_form2]").formHandler({type:"downsell2",errorModal:!0,countryDropdown:"Select Country",ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$("form[name=is-upsell]").formHandler({type:"upsell",errorModal:!0,ajaxLoader:{div:"#loading-indicator",timeInOut:0}}),$(document).off("click","#app_common_modal_close"),$(document).on("click","#app_common_modal_close",(function(event){event.preventDefault?event.preventDefault():event.returnValue=!1,$("#app_common_modal").remove()}));var qs=queryString();null!=qs&&void 0!==qs.asyncp&&"y"==qs.asyncp&&asyncProspect()})),app_config.hasOwnProperty("allowed_tc")&&("string"==typeof app_config.allowed_tc||app_config.allowed_tc instanceof String)&&(app_config.allowed_tc=cb.decryptAllowedTestCard(app_config.allowed_tc)),"undefined"!=typeof disableUrlErrorHandler&&!0===disableUrlErrorHandler||cb.urlErrorHandler()}(jQuery);var cSpeed=9,cWidth=128,cHeight=128,cTotalFrames=18,cFrameWidth=128,cImageSrc=app_config.offer_path+"assets/images/sprites.gif",cImageTimeout=!1,cIndex=0,cXpos=0,cPreloaderTimeout=!1,SECONDS_BETWEEN_FRAMES=0;function startAnimation(){document.getElementById("loaderImage").style.backgroundImage="url("+cImageSrc+")",document.getElementById("loaderImage").style.width=cWidth+"px",document.getElementById("loaderImage").style.height=cHeight+"px",FPS=Math.round(100/cSpeed),SECONDS_BETWEEN_FRAMES=1/FPS,cPreloaderTimeout=setTimeout("continueAnimation()",SECONDS_BETWEEN_FRAMES/1e3)}function continueAnimation(){cXpos+=cFrameWidth,(cIndex+=1)>=cTotalFrames&&(cXpos=0,cIndex=0),document.getElementById("loaderImage")&&(document.getElementById("loaderImage").style.backgroundPosition=-cXpos+"px 0"),cPreloaderTimeout=setTimeout("continueAnimation()",1e3*SECONDS_BETWEEN_FRAMES)}function stopAnimation(){clearTimeout(cPreloaderTimeout),cPreloaderTimeout=!1}function imageLoader(s,fun){clearTimeout(cImageTimeout),cImageTimeout=0,genImage=new Image,genImage.onload=function(){cImageTimeout=setTimeout(fun,0)},g,genImage.src=s}function openNewWindow(page_url,type,window_name,width,height,top,left,features){if(type||(type="popup"),width||(width=480),height||(height=480),top||(top=50),left||(left=50),features||(features="resizable,scrollbars"),"popup"==type){var settings="height="+height+",";settings+="width="+width+",",settings+="top="+top+",",settings+="left="+left+",",settings+=features,win=window.open(page_url,window_name,settings),win.window.focus()}else if("modal"==type){var html="";html+='<div id="app_common_modal">',html+='<div class="app_modal_body"><a href="javascript:void(0);" id="app_common_modal_close">X</a><iframe src="'+page_url+'" frameborder="0"></iframe></div>',html+="</div>",$("#app_common_modal").length||$("body").append(html),$("#app_common_modal").fadeIn()}}function openWindow(event,page_url,type,window_name){return event.preventDefault?event.preventDefault():event.returnValue=!1,openNewWindow(page_url,type,window_name)}function queryString(){for(var query_string={},vars=window.location.search.substring(1).split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(void 0===query_string[pair[0]])query_string[pair[0]]=decodeURIComponent(pair[1]);else if("string"==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr}else query_string[pair[0]].push(decodeURIComponent(pair[1]))}return query_string}function asyncProspect(){$.ajax({url:"ajax.php?method=async_prospect",method:"post",data:{},success:function(data){"object"==typeof data&&void 0!==data.context&&0==data.context.errorFound&&data.context.prospectId?$("input[name=prospectId]").length&&$("input[name=prospectId]").val(data.context.prospectId):$("form[name=checkout_form]").append('<input type="hidden" name="altered_action" value="new_order" />')}})}var AppHelpers={delay:3e4,delayOrderProcessing:function(){setInterval((function(){$.ajax({url:"ajax.php",data:{delay_order_processing:1}})}),this.delay)}},appLocation={pathname:location.pathname,search:location.search};function xverifyCustomHtml(correctedAddress){return["<ul>",'<li style="height:20px"></li>',"<li>We suggest you to use the one below,</li>","<li><b> "+correctedAddress+"</b></li>","<li>However, you may proceed without any corrections</li>","</ul>"].join("\n")}window.addEventListener("popstate",(function(event){app_config.enable_browser_back_button&&"checkoutPage"==app_config.pageType?(history.pushState({urlPath:location.pathname+location.search},"",location.pathname+location.search),location.reload()):history.pushState({},null,appLocation.pathname+appLocation.search)}));